{ EMIT
T FPOP AX
NT MOV AH, 0xE
NT INT 0x10 }

{ .C
T FPOP BX
NT MOV AH, 0x0E
NT AND BX, 0xFF

NT PUSH BX
NT SHR BX, 4
NT ADD BX, HEXTAB
NT MOV AL, BYTE [BX]
NT INT 0x10

NT POP BX
NT AND BX, 0x0F
NT ADD BX, HEXTAB
NT MOV AL, BYTE [BX]
NT INT 0x10

NT NEXT

N HEXTAB: T DB "0123456789ABCDEF" }

{ TEST-STRING
T MOV AX, F_TEST_STRING
NT FPUSH AX
NT NEXT
N F_TEST_STRING: DB "THIS IS A TEST", 0 }

{ KEY
T XOR AX, AX
NT INT 0x16
NT XOR AH, AH
NT FPUSH AX }

{ CURSOR-Y
T XOR BX, BX
NT MOV AH, 3
NT INT 0x10
NT MOV DL, DH
NT XOR DH, DH
NT FPUSH DX }

{ CURSOR-X
T XOR BX, BX
NT MOV AH, 3
NT INT 0x10
NT XOR DH, DH
NT FPUSH DX }

: . DUP 8 RSHIFT .C .C ;
: SPC 32 EMIT ;
: BS 8 EMIT SPC 8 EMIT ;
: CR 13 EMIT 10 EMIT ;

{ ERRSTR
N MOV AX, ERRSTR
NT FPUSH AX
NT NEXT
N ERRSTR: DB "ERROR.", 0 }
