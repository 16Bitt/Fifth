	[BITS 16]
	[ORG 0x7E00]

%include "header/asm.h"

ENTRYPOINT:
	STI
	MOV SI, TEST_STRING
	CALL DBG_PRINT
	JMP STARTEXEC

DBG_PRINT:
	PUSHA
	MOV AH, 0xE
DP_LOOP:
	LODSB
	OR AL, AL
	JZ DP_END
	INT 0x10
	JMP DP_LOOP
DP_END:
	POPA
	RET

STARTEXEC:
	MOV BP, STACK
	CALL lbl3

TEST_STRING: DB ">BOOTSTRAP PAYLOAD SUCCESSFUL", 13, 10, 0
